<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>

        window.onload = function(){
            var todoLiist=[
                {sep:101, title:"여행", done:false},
                {sep:102, title:"여행가기", done:true},
                {sep:103, title:"식사", done:false},
                {sep:104, title:"청소", done:false},
            ];
            var seqCnt =105;

            var memo = document.getElementById('demo');
            var inputBox = document.getElementById('inputBox');
            var searchBth = document.getElementById('searchBth');

            var search = document.querySelector('#search');
            var changeBtn = document.querySelector('#changeBth');
            var resetBtn = document.querySelector('#resetBtn');
            
            
            HTMLButtonElement.prototype.handleDelEvt = function (btn) {
                
            }


            HTMLButtonElement.prototype.editClickHandle = function(btn) {
            }






            //추가 함수
            function drawList(){;
                demo.innerHTML=" "
                todoLiist.forEach(function(todoObj){
                    console.log(todoObj.title)
                    memo.innerHTML += `<tr align="center" dats-sep="${todoObj.sep}">
                    <td><input type="checkbox"></td>
                        <td>${todoObj.title}</td>
                        <td><button onclick="editClickHandle(this)">수정</button></td>
                        <td><button onClick="handleDelEvt(this)">삭제</button></td>
                    </tr>`
                })
            }


            //검색 함수
            function searchList(e){
                demo.innerHTML=" "
                todoLiist.forEach(function(todoObj){
                    console.log(1);
                    if(search.value == todoObj.title || search.value == ""){
                        memo.innerHTML += `<tr align="center">
                            <td><input type="checkbox"></td>
                            <td>${todoObj.title}</td>
                            <td><button onclick="editClickHandle(this)">수정</button></td>
                            <td><button onClick="handleDelEvt(this)">삭제</button></td>
                        </tr>`
                    }
                })
            }

            //목록추가
            var handleEvent = function(event, a){
                
                todoLiist.push({sep:a,title: inputBox.value, done:false});
                console.log(todoLiist);
                drawList();
                console.log(memo);
                inputBox.value ="";
                inputBox.focus();
            }
            changeBtn.addEventListener('click',handleEvent);
            inputBox.addEventListener('keyup',function(event){
                if(event.keyCode == 13){
                    var a =todoLiist[todoLiist.length-1].sep+1;
                    handleEvent(event,a);
                }
            })

            //목록 추가 입력칸 초기화
            resetBtn.addEventListener('click',function(event){
                inputBox.value=""
            })
            
            //검색
            searchBth.addEventListener('click',searchList);
            search.addEventListener('keyup',function(event){
                if(event.keyCode == 13){
                    searchList(event);
                    console.log(1);
                }
            })

            




        }
    </script>

    
    
</head>
<body>
    등록:<input type="text" id="inputBox" value="asdadsa">
    <button type="button" id="changeBth">Change</button>
    <button type="button" id="resetBtn">Reset</button>
    <hr>
    검색:<input type="text" id="search">
    <button type="button"id="searchBth"> 검색</button>
    <table  width="550" border="1">
        <tbody >
            <tr>
                <th>확인</th>
                <th>할일</th>
                <th>수정</th>
                <th>삭제</th>
            </tr>
        </tbody>
        
        <tbody id="demo">
            <tr align="center">
                <td><input type="checkbox"></td>
                <td>개밥주기</td>
                <td><button>수정</button></td>
                <td><button>삭제</button></td>
            </tr>
        </tbody>
        
    </table>

    
</body>
</html>