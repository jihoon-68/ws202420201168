<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js""></script>
    <style>
        .edInput{
            width: 100apx;
        }
    </style>
</head>
<body>
    <h1>Todo List</h1>
    <input type="text" id="title"/>
    <button id ="seveBtn">seve</button>
    <hr/>
    <ul id="listAear"></ul>
    

    <script>
        //오늘 과제 제이쿼로 todlist 만들기
        var cnt=1;
        $(function(){
            $('#seveBtn').on('click',function(){
                $('#title').val();
                if($('#title').val()){
                    $('#listAear').append(`<li data-no="10${cnt++}">
                        <input type ="checkbox"/>
                        <span>${$('#title').val()}</span>
                        <button class="ediBtn">EDIT</button>
                        <button class="delBtn">DELETE</button>
                    </li>`);
                    $('button.delBtn').bind('click', function(e){
                        //현재요소의 부모로 가서 .remove();로 삭제합니다.
                        $(e.target).parent().remove();
                    });

                    $('button.ediBtn').bind('click', function(e){
                        //버튼 클릭 시 현재 요소 부모로 가서 span 태그 찾아서
                        //befor 함수로 span 태그 앞쪽에 input 창과 버튼을 넣어줍니다.
                        //넣어줄 때 input와 버튼에 이름 부여
                        $(e.target).parent().find('span').before(
                            `<span><input id="edinput"/><button>seve</button></span>`
                        );

                        //부한 이름에 버트이 눌러지면 밑에 함수 실행
                        $('button').on('click',function(e){
                            //이 함수가 실행되면 현재 요소에 부모 부모를 불러 외 span을 찾은 후에
                            // text() 안에 input 값을 넣고 다음 함수는 현재 요소 부모로 가서 삭제
                            $(e.target).parent().parent().find('span').text($('#edinput').val());
                            $(e.target).parent().remove();
                            //$('button').off;
                        });
                        

                        console.log();
                    });
                    
                    $('#title').val("");
                }else{
                    alert("내용을 입력");
                    $('#title').focus();
                    return;
                }

            })
        })
    </script>
    
</body>
</html>